<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meaningful Change via eCDF and ePDF • COA34</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Meaningful Change via eCDF and ePDF">
<meta property="og:description" content="COA34">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">COA34</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/TRTR.html">Test-Retest Reliability</a>
    </li>
    <li>
      <a href="../articles/Vignette_eCDF_ePDF.html">Meaningful Change via eCDF and ePDF</a>
    </li>
    <li>
      <a href="../articles/Vignette_Item_Resp_Dist.html">Item Response Distribution</a>
    </li>
    <li>
      <a href="../articles/Vignette_Known_Groups.html">Known Groups Validity</a>
    </li>
    <li>
      <a href="../articles/Vignette_Scatterplots.html">Meaningful Change with Scatterplots</a>
    </li>
    <li>
      <a href="../articles/Vignette_Validity.html">Concurrent Validity</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Vignette_eCDF_ePDF_files/header-attrs-2.8/header-attrs.js"></script><link href="Vignette_eCDF_ePDF_files/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Meaningful Change via eCDF and ePDF</h1>
            
      
      
      <div class="hidden name"><code>Vignette_eCDF_ePDF.Rmd</code></div>

    </div>

    
    
<div id="custom-ecdf-and-epdf" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-ecdf-and-epdf" class="anchor"></a>Custom eCDF and ePDF</h2>
<p>Output eCDFs and ePDFs in alignment with FDA Guidance 3.</p>
</div>
<div id="required-r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#required-r-packages" class="anchor"></a>Required R packages</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">COA34</span><span class="op">)</span>
<span class="co"># In addition, you'll need the following</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></code></pre></div>
</div>
<div id="generate-data" class="section level2">
<h2 class="hasAnchor">
<a href="#generate-data" class="anchor"></a>Generate data</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">sim.out</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/sim_pro_dat.html">sim_pro_dat</a></span><span class="op">(</span>N<span class="op">=</span><span class="fl">1e3</span>,
                        polychor.value <span class="op">=</span> <span class="fl">0.4</span>,
                        corr <span class="op">=</span> <span class="st">'ar1'</span>,
                        cor.value <span class="op">=</span> <span class="fl">0.8</span>,
                        var.values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>

<span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">sim.out</span><span class="op">$</span><span class="va">dat</span>


<span class="co"># You already have the PGIS_bl and PGIS_delta in the generated data,</span>
<span class="co"># you wouldn't have that in a real dataset, so drop that first</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span>, <span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'PGIS_bl'</span>, <span class="st">'PGIS_delta'</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>
<span class="co"># This makes the resf of this more realistic</span></code></pre></div>
</div>
<div id="implement-drop-out" class="section level2">
<h2 class="hasAnchor">
<a href="#implement-drop-out" class="anchor"></a>Implement drop-out</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/dropout.html">dropout</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
               type_dropout  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'mcar'</span>, <span class="st">'mar'</span>, <span class="st">'mnar'</span><span class="op">)</span>,
               prop.miss <span class="op">=</span> <span class="fl">0.5</span>,
               stochastic.component <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></code></pre></div>
</div>
<div id="compute-pgis-delta" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-pgis-delta" class="anchor"></a>Compute PGIS delta</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_anchor_delta.html">compute_anchor_delta</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                   subject.id <span class="op">=</span> <span class="st">'USUBJID'</span>,
                                   time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                   anchor <span class="op">=</span> <span class="st">'PGIS'</span><span class="op">)</span></code></pre></div>
</div>
<div id="compute-pro-score-delta" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-pro-score-delta" class="anchor"></a>Compute PRO Score delta</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_change_score.html">compute_change_score</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                   subject.id <span class="op">=</span> <span class="st">'USUBJID'</span>,
                                   time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                   score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Y_comp'</span>, <span class="st">'Y_mcar'</span>, <span class="st">'Y_mar'</span>, <span class="st">'Y_mnar'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="compute-anchor-groups" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-anchor-groups" class="anchor"></a>Compute anchor groups</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_anchor_group.html">compute_anchor_group</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                   anchor.variable <span class="op">=</span> <span class="st">'PGIS_delta'</span>,
                                   number.of.anchor.groups <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
</div>
<div id="compute-thresholds" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-thresholds" class="anchor"></a>Compute Thresholds</h2>
<p>This functions computes a table of all of the meaningful change thresholds.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">thr</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_thresholds.html">compute_thresholds</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                 anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                                 time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                 change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span></code></pre></div>
<p>Output the table to include in the report:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">R2Word</span><span class="op">)</span>

<span class="fu">R2Word</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/R2Word/man/dump_df_mat_to_file.html">dump_df_mat_to_file</a></span><span class="op">(</span>out <span class="op">=</span> <span class="va">thr</span>,
                            table.title <span class="op">=</span> <span class="st">'Anchor Group Thresholds'</span>,
                            NA.string <span class="op">=</span> <span class="st">'-'</span>,
                            decimals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,
                            file.name <span class="op">=</span> <span class="st">'thr'</span>, 
                            print.dir <span class="op">=</span> <span class="va">print.dir</span><span class="op">)</span></code></pre></div>
<template id="def1e2c7-449f-4e6e-a59d-9c45701319ed"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-cf66c7b4{table-layout:auto;border-collapse:collapse;width:100%;}.cl-cf3ca042{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-cf3ca043{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-cf3cee30{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf3d1522{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-cf3dfee2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfee9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfeea{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfeeb{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3dfeec{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d5{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d6{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d7{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d8{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25d9{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25da{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25db{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25dc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25dd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e25de{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd1{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd2{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd3{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd4{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd5{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd6{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-cf3e4cd7{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-cf66c7b4">
<thead>
<tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-cf3e25dd"><p class="cl-cf3cee30"><span class="cl-cf3ca042">Anchor Group Thresholds</span></p></td></tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3e4cd7"><p class="cl-cf3d1522"><span class="cl-cf3ca042">PRO Change Score</span></p></td>
<td class="cl-cf3e4cd5"><p class="cl-cf3d1522"><span class="cl-cf3ca042">Anchor Group</span></p></td>
<td class="cl-cf3e4cd4"><p class="cl-cf3d1522"><span class="cl-cf3ca042">Mean</span></p></td>
<td class="cl-cf3e4cd3"><p class="cl-cf3d1522"><span class="cl-cf3ca042">Median</span></p></td>
<td class="cl-cf3e4cd6"><p class="cl-cf3d1522"><span class="cl-cf3ca042">N</span></p></td>
<td class="cl-cf3e4cd2"><p class="cl-cf3d1522"><span class="cl-cf3ca042">Percent</span></p></td>
</tr>
</thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3dfee7"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Y_comp_delta</span></p></td>
<td class="cl-cf3dfee4"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Improved_2+</span></p></td>
<td class="cl-cf3dfee6"><p class="cl-cf3d1522"><span class="cl-cf3ca043">-2.12</span></p></td>
<td class="cl-cf3dfee5"><p class="cl-cf3d1522"><span class="cl-cf3ca043">-2.18</span></p></td>
<td class="cl-cf3dfee3"><p class="cl-cf3d1522"><span class="cl-cf3ca043">227</span></p></td>
<td class="cl-cf3dfee2"><p class="cl-cf3d1522"><span class="cl-cf3ca043">22.7</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3dfee7"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Y_comp_delta</span></p></td>
<td class="cl-cf3dfee4"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Improved_1</span></p></td>
<td class="cl-cf3dfee6"><p class="cl-cf3d1522"><span class="cl-cf3ca043">-1.14</span></p></td>
<td class="cl-cf3dfee5"><p class="cl-cf3d1522"><span class="cl-cf3ca043">-1.14</span></p></td>
<td class="cl-cf3dfee3"><p class="cl-cf3d1522"><span class="cl-cf3ca043">165</span></p></td>
<td class="cl-cf3dfee2"><p class="cl-cf3d1522"><span class="cl-cf3ca043">16.5</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3dfeea"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Y_comp_delta</span></p></td>
<td class="cl-cf3dfeec"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Maintained</span></p></td>
<td class="cl-cf3dfee9"><p class="cl-cf3d1522"><span class="cl-cf3ca043">0.07</span></p></td>
<td class="cl-cf3dfeeb"><p class="cl-cf3d1522"><span class="cl-cf3ca043">0.18</span></p></td>
<td class="cl-cf3dfee8"><p class="cl-cf3d1522"><span class="cl-cf3ca043">200</span></p></td>
<td class="cl-cf3e25d4"><p class="cl-cf3d1522"><span class="cl-cf3ca043">20.0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3dfee7"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Y_comp_delta</span></p></td>
<td class="cl-cf3dfee4"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Deteriorated_1</span></p></td>
<td class="cl-cf3dfee6"><p class="cl-cf3d1522"><span class="cl-cf3ca043">1.21</span></p></td>
<td class="cl-cf3dfee5"><p class="cl-cf3d1522"><span class="cl-cf3ca043">1.25</span></p></td>
<td class="cl-cf3dfee3"><p class="cl-cf3d1522"><span class="cl-cf3ca043">167</span></p></td>
<td class="cl-cf3dfee2"><p class="cl-cf3d1522"><span class="cl-cf3ca043">16.7</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-cf3e25da"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Y_comp_delta</span></p></td>
<td class="cl-cf3e25d6"><p class="cl-cf3d1522"><span class="cl-cf3ca043">Deteriorated_2+</span></p></td>
<td class="cl-cf3e25d9"><p class="cl-cf3d1522"><span class="cl-cf3ca043">2.21</span></p></td>
<td class="cl-cf3e25d5"><p class="cl-cf3d1522"><span class="cl-cf3ca043">2.18</span></p></td>
<td class="cl-cf3e25d7"><p class="cl-cf3d1522"><span class="cl-cf3ca043">241</span></p></td>
<td class="cl-cf3e25d8"><p class="cl-cf3d1522"><span class="cl-cf3ca043">24.1</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="0935a6a7-fe30-4630-8ec5-d26d83835524"></div>
<script>
var dest = document.getElementById("0935a6a7-fe30-4630-8ec5-d26d83835524");
var template = document.getElementById("def1e2c7-449f-4e6e-a59d-9c45701319ed");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div id="compute-proportion-surpassing-threshold" class="section level2">
<h2 class="hasAnchor">
<a href="#compute-proportion-surpassing-threshold" class="anchor"></a>Compute Proportion Surpassing Threshold</h2>
<p>This function computes the proportion of subjects surpassing a given threshold. So let’s say you are looking to estimate meaningful improvement, using a 1-category change on the anchor as the criteria. In this case, you’d use the median PRO score of the anchor group “Improved 1 category” and compute the proportion of subjects with a PRO change score that was that or less (assuming that improvement is negative in PRO change scores).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">cap</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_prop_surp.html">compute_prop_surp</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                                time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span>,
                                threshold.label <span class="op">=</span> <span class="st">'Improved_1'</span>,
                                mean.or.median <span class="op">=</span> <span class="st">'median'</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">cap</span><span class="op">)</span>
<span class="co">#&gt; List of 8</span>
<span class="co">#&gt;  $ anchor.table         :'data.frame':   5 obs. of  5 variables:</span>
<span class="co">#&gt;   ..$ Threshold                 : chr [1:5] "Improved_1" "Improved_1" "Improved_1" "Improved_1" ...</span>
<span class="co">#&gt;   ..$ Anchor Group              : Factor w/ 5 levels "Improved_2+",..: 1 2 3 4 5</span>
<span class="co">#&gt;   ..$ Total                     : num [1:5] 227 165 200 167 241</span>
<span class="co">#&gt;   ..$ Achieved Meaningful Change: num [1:5] 159 82 50 22 11</span>
<span class="co">#&gt;   ..$ Percentage                : num [1:5] 70.04 49.7 25 13.17 4.56</span>
<span class="co">#&gt;  $ threshold.table      :'data.frame':   5 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ PRO Change Score: chr [1:5] "Y_comp_delta" "Y_comp_delta" "Y_comp_delta" "Y_comp_delta" ...</span>
<span class="co">#&gt;   ..$ Anchor Group    : Factor w/ 5 levels "Improved_2+",..: 1 2 3 4 5</span>
<span class="co">#&gt;   ..$ Mean            : num [1:5] -2.1198 -1.141 0.0702 1.2089 2.2081</span>
<span class="co">#&gt;   ..$ Median          : num [1:5] -2.179 -1.14 0.179 1.245 2.178</span>
<span class="co">#&gt;   ..$ N               : num [1:5] 227 165 200 167 241</span>
<span class="co">#&gt;   ..$ Percent         : num [1:5] 22.7 16.5 20 16.7 24.1</span>
<span class="co">#&gt;  $ threshold.label      : chr "Improved_1"</span>
<span class="co">#&gt;  $ mean.or.median       : chr "Median"</span>
<span class="co">#&gt;  $ threshold.value      : num -1.14</span>
<span class="co">#&gt;  $ change.score         : chr "Y_comp_delta"</span>
<span class="co">#&gt;  $ ecdf.caption         : chr "Threshold: -1.14, Percent Achieved Meaningful Change:  Improved_2+: 70.0%, Improved_1: 49.7%, Maintained: 25.0%"| __truncated__</span>
<span class="co">#&gt;  $ footnote.anchor.table: chr "Threshold = -1.14, the Median of the Improved_1 anchor group"</span></code></pre></div>
<p>Output the table to include in your report:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">R2Word</span><span class="op">)</span>

<span class="fu">R2Word</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/R2Word/man/dump_df_mat_to_file.html">dump_df_mat_to_file</a></span><span class="op">(</span>out <span class="op">=</span> <span class="va">cap</span><span class="op">$</span><span class="va">anchor.table</span>,
                            table.title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Proportion Achieving Meaningful Improvement in '</span>, <span class="va">cap</span><span class="op">$</span><span class="va">change.score</span><span class="op">)</span>,
                            NA.string <span class="op">=</span> <span class="st">'-'</span>,
                            table.footnote <span class="op">=</span> <span class="va">cap</span><span class="op">$</span><span class="va">footnote.anchor.table</span>,
                            decimals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,
                            file.name <span class="op">=</span> <span class="st">'cap'</span>, 
                            print.dir <span class="op">=</span> <span class="va">print.dir</span><span class="op">)</span></code></pre></div>
<template id="314ef934-d56c-436d-8c4e-4ba8c750e72e"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-d0589864{table-layout:auto;border-collapse:collapse;width:100%;}.cl-d044cfc8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d044cfc9{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d044f6ba{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d044f6bb{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d04544bc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544bd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544be{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544bf{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c1{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c2{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c3{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c4{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c5{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d04544c6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456ba9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456baa{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456bab{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456bac{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456bad{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0456bae{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0459296{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0459297{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d0459298{background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-d0589864">
<thead>
<tr style="overflow-wrap:break-word;"><td colspan="5" class="cl-d0456bab"><p class="cl-d044f6ba"><span class="cl-d044cfc8">Proportion Achieving Meaningful Improvement in Y_comp_delta</span></p></td></tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d0456bad"><p class="cl-d044f6bb"><span class="cl-d044cfc8">Threshold</span></p></td>
<td class="cl-d0459298"><p class="cl-d044f6bb"><span class="cl-d044cfc8">Anchor Group</span></p></td>
<td class="cl-d0459296"><p class="cl-d044f6bb"><span class="cl-d044cfc8">Total</span></p></td>
<td class="cl-d0459297"><p class="cl-d044f6bb"><span class="cl-d044cfc8">Achieved Meaningful Change</span></p></td>
<td class="cl-d0456bae"><p class="cl-d044f6bb"><span class="cl-d044cfc8">Percentage</span></p></td>
</tr>
</thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-d04544bc"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544be"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_2+</span></p></td>
<td class="cl-d04544bf"><p class="cl-d044f6bb"><span class="cl-d044cfc9">227</span></p></td>
<td class="cl-d04544c0"><p class="cl-d044f6bb"><span class="cl-d044cfc9">159</span></p></td>
<td class="cl-d04544bd"><p class="cl-d044f6bb"><span class="cl-d044cfc9">70.0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d04544bc"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544be"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544bf"><p class="cl-d044f6bb"><span class="cl-d044cfc9">165</span></p></td>
<td class="cl-d04544c0"><p class="cl-d044f6bb"><span class="cl-d044cfc9">82</span></p></td>
<td class="cl-d04544bd"><p class="cl-d044f6bb"><span class="cl-d044cfc9">49.7</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d04544bc"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544be"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Maintained</span></p></td>
<td class="cl-d04544bf"><p class="cl-d044f6bb"><span class="cl-d044cfc9">200</span></p></td>
<td class="cl-d04544c0"><p class="cl-d044f6bb"><span class="cl-d044cfc9">50</span></p></td>
<td class="cl-d04544bd"><p class="cl-d044f6bb"><span class="cl-d044cfc9">25.0</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d04544bc"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544be"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Deteriorated_1</span></p></td>
<td class="cl-d04544bf"><p class="cl-d044f6bb"><span class="cl-d044cfc9">167</span></p></td>
<td class="cl-d04544c0"><p class="cl-d044f6bb"><span class="cl-d044cfc9">22</span></p></td>
<td class="cl-d04544bd"><p class="cl-d044f6bb"><span class="cl-d044cfc9">13.2</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-d04544c1"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Improved_1</span></p></td>
<td class="cl-d04544c4"><p class="cl-d044f6bb"><span class="cl-d044cfc9">Deteriorated_2+</span></p></td>
<td class="cl-d04544c5"><p class="cl-d044f6bb"><span class="cl-d044cfc9">241</span></p></td>
<td class="cl-d04544c2"><p class="cl-d044f6bb"><span class="cl-d044cfc9">11</span></p></td>
<td class="cl-d04544c3"><p class="cl-d044f6bb"><span class="cl-d044cfc9">4.6</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="5" class="cl-d0456ba4"><p class="cl-d044f6ba"><span class="cl-d044cfc9">Threshold = -1.14, the Median of the Improved_1 anchor group</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="ce6ca674-f457-4646-9f44-5829a223635a"></div>
<script>
var dest = document.getElementById("ce6ca674-f457-4646-9f44-5829a223635a");
var template = document.getElementById("314ef934-d56c-436d-8c4e-4ba8c750e72e");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div id="adjusting-naming-of-tablesfigures" class="section level2">
<h2 class="hasAnchor">
<a href="#adjusting-naming-of-tablesfigures" class="anchor"></a>Adjusting Naming of Tables/Figures</h2>
<p>Show how to change out the names of the anchor groups, <code><a href="https://rdrr.io/r/base/table.html">table(dat$anchor.groups)</a></code>. Use the function <code><a href="https://rdrr.io/r/base/grep.html">gsub()</a></code> or <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> statement, using <code>Improved, 2</code></p>
<p><a href="https://stackoverflow.com/questions/60566227/inserting-math-symbols-in-legends-of-r-plots" class="uri">https://stackoverflow.com/questions/60566227/inserting-math-symbols-in-legends-of-r-plots</a> paste0(“Improved  2”)</p>
<p>This does not show up correctly in R Markdown, but will work in the plots.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">anchor.groups</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Improved_2+      Improved_1      Maintained  Deteriorated_1 Deteriorated_2+ </span>
<span class="co">#&gt;             600             507            1730             521             642</span>
<span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">'Improved_2+'</span>, replacement <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Improved \u2265 2"</span><span class="op">)</span>, x <span class="op">=</span> <span class="va">dat</span><span class="op">$</span><span class="va">anchor.groups</span> <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span>
<span class="co">#&gt; tmp</span>
<span class="co">#&gt;  Deteriorated_1 Deteriorated_2+   Improved = 2+      Improved_1      Maintained </span>
<span class="co">#&gt;             521             642             600             507            1730</span>

<span class="co">#dat$anchor.groups &lt;- gsub(pattern = 'Improved_2+', replacement = paste0("Improved \u2265 2"), x = dat$anchor.groups )</span>

<span class="co">#dat$anchor.groups &lt;- gsub(pattern = 'Deteriorated_2+', replacement = paste0("Deteriorated \u2265 2"), x = dat$anchor.groups )</span></code></pre></div>
</div>
<div id="plot-ecdfs-and-epdfs" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-ecdfs-and-epdfs" class="anchor"></a>Plot eCDFs and ePDFs</h2>
<p>We’re going to do this two ways, first the easy way, with a function that automates it. Then we will go and do it by hand, to give you code to customize.</p>
<p>This way, if the function doesn’t give you exactly what you need, you have something to modify and can quickly get what you need.</p>
<div id="easy-way---use-the-function" class="section level3">
<h3 class="hasAnchor">
<a href="#easy-way---use-the-function" class="anchor"></a>Easy Way - Use the function</h3>
<p>This is the most expedient approach. You can use this if you have 200 eCDF/ePDFs to compute. This function automatically prints out a png file with the eCDF/ePDF together.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggplot2_eCDF.html">ggplot2_eCDF</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                    print.to.png <span class="op">=</span> <span class="cn">T</span>,
                    file.name <span class="op">=</span> <span class="st">'Example_eCDF_ePDF_ggplot2'</span>,
                    anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                    time.var <span class="op">=</span> <span class="st">'Time'</span>,
                    change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span>

<span class="co"># Note: you can use the paste0 function to use this in a loop</span>
<span class="co"># update anchor_name in the loop</span>
<span class="co"># file.name = paste0('eCDF_ePDF', anchor_name)</span></code></pre></div>
<p>This also automatically returns you an object with the two ggplot2 plot objects. You can plot them together on the same figure.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggplot2_eCDF.html">ggplot2_eCDF</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                    print.to.png <span class="op">=</span> <span class="cn">F</span>,
                    anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                    time.var <span class="op">=</span> <span class="st">'Time'</span>,
                    change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">eCDF</span><span class="op">)</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_funct_2-1.png" width="700"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">ePDF</span><span class="op">)</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_funct_2-2.png" width="700"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plot both:</span>
<span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">eCDF</span>, <span class="va">out</span><span class="op">$</span><span class="va">ePDF</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_funct_2-3.png" width="700"></p>
<p>There’s an option to return versions suitable for shell tables:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggplot2_eCDF.html">ggplot2_eCDF</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                    shell.table <span class="op">=</span> <span class="cn">T</span>,
                    print.to.png <span class="op">=</span> <span class="cn">F</span>,
                    anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                    time.var <span class="op">=</span> <span class="st">'Time'</span>,
                    change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span>
    
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">eCDF</span><span class="op">)</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_shell-1.png" width="700"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># plot(out$ePDF)</span>
<span class="co"># gridExtra::grid.arrange(out$eCDF, out$ePDF, ncol = 1)</span></code></pre></div>
</div>
</div>
<div id="customize-the-ecdf-epdf" class="section level2">
<h2 class="hasAnchor">
<a href="#customize-the-ecdf-epdf" class="anchor"></a>Customize the eCDF &amp; ePDF</h2>
<p>You may want to create a custom plot. There may be one or two scores that are the focus of your report, and for those, you need to make the plots by hand with several customized modifications. In that case, let’s give you a template to use.</p>
<div id="compute-the-density-the-thresholds-and-sample-sizes" class="section level3">
<h3 class="hasAnchor">
<a href="#compute-the-density-the-thresholds-and-sample-sizes" class="anchor"></a>Compute the density, the thresholds, and sample sizes</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R">
  <span class="va">dat.den</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_ecdf.html">compute_ecdf</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                 anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                                 time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                 change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span>


  <span class="va">thr</span> <span class="op">&lt;-</span> <span class="fu">COA34</span><span class="fu">::</span><span class="fu"><a href="../reference/compute_thresholds.html">compute_thresholds</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,
                                   anchor.group <span class="op">=</span> <span class="st">'anchor.groups'</span>,
                                   time.var <span class="op">=</span> <span class="st">'Time'</span>,
                                   change.score <span class="op">=</span> <span class="st">'Y_comp_delta'</span><span class="op">)</span>


  <span class="va">plot.legend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">thr</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Anchor Group'</span>, <span class="st">'N'</span><span class="op">)</span><span class="op">]</span>, <span class="fl">1</span>,
                         <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="st">' (N = '</span>, <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="st">')'</span><span class="op">)</span><span class="op">)</span>

    <span class="co"># Shell Tables: plot.legend &lt;- apply(thr[, c('Anchor Group'), drop = F ], 1, function(x) paste0(x, ' (N = xx)'))</span></code></pre></div>
</div>
<div id="create-the-ggplot2-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#create-the-ggplot2-plots" class="anchor"></a>Create the ggplot2 plots</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R">
 <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
 <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span>
 <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span>

<span class="co"># eCDF</span>
  <span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">dat.den</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">density_x</span>, y<span class="op">=</span><span class="va">CDF</span>, group<span class="op">=</span><span class="va">anchor.groups</span>, color<span class="op">=</span><span class="va">anchor.groups</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span> title <span class="op">=</span> <span class="st">'Empirical Cumulative Distribution of Change in Score from Baseline'</span>,
          legend.title <span class="op">=</span> <span class="st">'Anchor Groups'</span>,
          caption <span class="op">=</span> <span class="va">cap</span><span class="op">$</span><span class="va">ecdf.caption</span>,
          x <span class="op">=</span> <span class="st">'Change in score from baseline'</span>,
          y <span class="op">=</span> <span class="st">'Cumulative proportion of patients'</span>,
          color <span class="op">=</span> <span class="st">'Anchor Groups'</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="va">plot.legend</span>,
                     values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">dat.den</span><span class="op">$</span><span class="va">anchor.groups</span><span class="op">)</span><span class="op">)</span>

  <span class="va">p1</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_custom_2-1.png" width="700"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># ePDF</span>
  <span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">dat.den</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">density_x</span>, y<span class="op">=</span><span class="va">density_y</span>, group<span class="op">=</span><span class="va">anchor.groups</span>, color<span class="op">=</span><span class="va">anchor.groups</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span> title <span class="op">=</span> <span class="st">'Empirical Density Function of Change in Score from Baseline'</span>,
          x <span class="op">=</span> <span class="st">'Change in score from baseline'</span>,
          y <span class="op">=</span> <span class="st">'Density'</span>,
          color <span class="op">=</span> <span class="st">'Anchor Groups'</span><span class="op">)</span> <span class="op">+</span>
        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="va">plot.legend</span>,
                     values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">dat.den</span><span class="op">$</span><span class="va">anchor.groups</span><span class="op">)</span><span class="op">)</span>

    <span class="va">p2</span></code></pre></div>
<p><img src="Vignette_eCDF_ePDF_files/figure-html/plot_custom_2-2.png" width="700"></p>
<p>You can customize this code to yield what you want. Google is your friend here.</p>
</div>
<div id="output" class="section level3">
<h3 class="hasAnchor">
<a href="#output" class="anchor"></a>Output</h3>
<p>After you’re done, it’s easy to push these ggplot2 objects to a file:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R">
  <span class="va">file.name</span> <span class="op">&lt;-</span> <span class="st">'Customized_eCDF'</span>

<span class="fu"><a href="https://rdrr.io/r/grDevices/png.html">png</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">file.name</span>, <span class="st">'.png'</span><span class="op">)</span>, units<span class="op">=</span><span class="st">"in"</span>, width<span class="op">=</span><span class="fl">11</span>, height<span class="op">=</span><span class="fl">8.5</span>, res<span class="op">=</span><span class="fl">300</span><span class="op">)</span>

  <span class="va">p1</span>

<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#-------------------------------</span>

  <span class="va">file.name</span> <span class="op">&lt;-</span> <span class="st">'Customized_ePDF'</span>

<span class="fu"><a href="https://rdrr.io/r/grDevices/png.html">png</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">file.name</span>, <span class="st">'.png'</span><span class="op">)</span>, units<span class="op">=</span><span class="st">"in"</span>, width<span class="op">=</span><span class="fl">11</span>, height<span class="op">=</span><span class="fl">8.5</span>, res<span class="op">=</span><span class="fl">300</span><span class="op">)</span>

  <span class="va">p2</span>

<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
